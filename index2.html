<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>Socket.IOの練習</title>
</head>
<body>
     <form id="myForm">
        <input type="text" id="name"><input type="range" name="sample1" id="s_value" style="width:150px"> <input type="submit" value="Send!">
    </form>
    <!--<form id="myForm">
        <input type="text" id="name"><input type="text" id="msg"><input type="range" name="sample1" id="s_value" style="width:150px"> <input type="submit" value="Send!">
    </form>
    <form id="slider">
        <input type="range" name="sample1" id="s_value" style="width:150px"> <input type="submit" value="Send!">
    </form>-->
    <ul id="logs"></ul>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        $(function() {
            var socket = io.connect();
            // emit: イベントを発信している
            // on: イベントを待ち受けている
            $('#myForm').submit(function(e) {
                e.preventDefault();
                socket.json.emit('emit_from_client', {
                    msg: $('#msg').val(),
                    name: $('#name').val(),
                    s_value:$('#s_value').val()
                });
                $('#msg').val('').focus();
            });
            socket.on('emit_from_server', function(data) {
                $('#logs').append($('<li>').text(data));
            });
        });
    </script>
</body>
</html>
6v
